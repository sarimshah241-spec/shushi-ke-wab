!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c4619c17-4251-49db-9c73-3f467d382321",e._sentryDebugIdIdentifier="sentry-dbid-c4619c17-4251-49db-9c73-3f467d382321")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[74611],{74611:function(e,t,n){"use strict";n.d(t,{U:function(){return E},Z:function(){return P}});var r,o=n(94713),i=n(23810),c=n(12100),u=n(4108),a=n(18472),s=n(71567),l=n(32871),d=n(34880),f=n(8512),p=n.n(f),m=n(52106),g=n.n(m),b=new(p())({id:"groups-cd35846384aae5e98a27541835c5c5b8",use:"groups-cd35846384aae5e98a27541835c5c5b8-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="groups-cd35846384aae5e98a27541835c5c5b8"><rect fill="none" height="24" width="24" /><g><path d="M12,12.75c1.63,0,3.07,0.39,4.24,0.9c1.08,0.48,1.76,1.56,1.76,2.73L18,17c0,0.55-0.45,1-1,1H7c-0.55,0-1-0.45-1-1l0-0.61 c0-1.18,0.68-2.26,1.76-2.73C8.93,13.14,10.37,12.75,12,12.75z M4,13c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2s-2,0.9-2,2 C2,12.1,2.9,13,4,13z M5.13,14.1C4.76,14.04,4.39,14,4,14c-0.99,0-1.93,0.21-2.78,0.58C0.48,14.9,0,15.62,0,16.43L0,17 c0,0.55,0.45,1,1,1l3.5,0v-1.61C4.5,15.56,4.73,14.78,5.13,14.1z M20,13c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2s-2,0.9-2,2 C18,12.1,18.9,13,20,13z M24,16.43c0-0.81-0.48-1.53-1.22-1.85C21.93,14.21,20.99,14,20,14c-0.39,0-0.76,0.04-1.13,0.1 c0.4,0.68,0.63,1.46,0.63,2.29V18l3.5,0c0.55,0,1-0.45,1-1L24,16.43z M12,6c1.66,0,3,1.34,3,3c0,1.66-1.34,3-3,3s-3-1.34-3-3 C9,7.34,10.34,6,12,6z" /></g></symbol>'});g().add(b);var v=n(36336),y=n(79811),h=n(38737),w=n(59024),j=n(8500),O=n(73710),Z=n(78297),_=n.n(Z),E=(0,h.Z)(_().imageSize),P=(r={},(0,o.Z)(r,O.E.enterChallenge,{icon:{symbol:u.Z,color:"noir"},imageUrl:function(e){return(0,i.Z)(e,2)[1]||""}}),(0,o.Z)(r,O.E.likeMedium,{icon:{symbol:s.Z,color:"red"},imageUrl:function(e){return(0,c.KV)(e)},title:function(e,t,n){return t.t("modal.intents.".concat(O.E.likeMedium,".title.").concat(n,".").concat(e.type))}}),(0,o.Z)(r,O.E.collectMedium,{icon:{symbol:a.Z,color:"purple"},imageUrl:function(e){return(0,c.KV)(e)},title:function(e,t,n){return t.t("modal.intents.".concat(O.E.collectMedium,".title.").concat(n).concat(n===j.vB.login?".".concat(e.type):""))}}),(0,o.Z)(r,O.E.followUser,{icon:{symbol:l.Z,color:"green"},imageUrl:function(e){var t=(0,v.je)(e),n=(0,v.cr)({imgixUrl:t,size:E});return t.includes("gravatar")?n.src:t},title:function(e,t,n){return t.t("modal.intents.".concat(O.E.followUser,".title.").concat(n),{user:(0,w.Z)(e.attributes)})}}),(0,o.Z)(r,O.E.joinCommunity,{icon:{symbol:b,color:"green"},imageUrl:function(e){if(e.attributes.image)return e.attributes.image;var t,n=null===(t=e.relationships.media.data[0])||void 0===t?void 0:t.id;return n?(0,y.L)(n):""}}),(0,o.Z)(r,O.E.uploadFiles,{icon:{symbol:d.Z,color:"green"},imageUrl:function(){return""},title:function(e,t,n){return t.t("medium:post-download-pexels-ad.auth.title.".concat(n))},subtitle:function(e,t,n){return t.t("medium:post-download-pexels-ad.auth.subtitle.".concat(n))},buttonText:function(e,t,n){return t.t("medium:post-download-pexels-ad.auth.form.".concat(n,".submit"))},buttonTheme:"shadow"}),r)},8500:function(e,t,n){"use strict";n.d(t,{qi:function(){return T},vB:function(){return C},GT:function(){return x},fI:function(){return D}});var r,o,i,c=n(18529),u=n(65605),a=n(72347),s=n(73710),l=n(94713),d=(i={},(0,l.Z)(i,s.E.enterChallenge,s.Q.contributor),(0,l.Z)(i,s.E.likeMedium,s.Q.consumer),(0,l.Z)(i,s.E.collectMedium,s.Q.consumer),(0,l.Z)(i,s.E.followUser,s.Q.consumer),(0,l.Z)(i,s.E.joinCommunity,s.Q.contributor),(0,l.Z)(i,s.E.attendEvent,s.Q.contributor),(0,l.Z)(i,s.E.uploadFiles,s.Q.contributor),i),f=n(5338),p=n(23810),m=n(28332),g=n.n(m),b=n(44713),v=n.n(b),y=n(90227),h=n(33106),w=n(82040),j=n(92719),O=n(11031),Z=n(22648),_=n(79746),E=v()(function(){return n.e(87253).then(n.bind(n,87253))},{loadableGenerated:{webpack:function(){return[87253]}}}),P=n(48282),x=((r={})[r.accountTypeSelection=0]="accountTypeSelection",r[r.register=1]="register",r[r.login=2]="login",r[r.survey=3]="survey",r[r.emailSignup=4]="emailSignup",r),C=((o={}).register="register",o.login="login",o),M={authMode:C.register,currentView:x.register,setCurrentView:function(){},setAccountType:function(){},onSuccess:function(){}},S=(0,c.createContext)(M),k=[s.E.collectMedium,s.E.followUser,s.E.likeMedium],T=function(e){var t,n,r,o,i,m,b,v,M,T,D,A,U,G,z,F=e.intent,H=e.explicitAccountType,Q=e.onRequestClose,I=e.children,L=e.onViewChange,R=(0,u.ZP)(),V=R.signedIn,B=R.user,N=(G=(U=(0,c.useState)(void 0))[0],z=U[1],{accountType:(0,c.useMemo)(function(){return H||G||(F?d[F.type]:void 0)},[H,G,F]),setAccountType:z}),q=N.accountType,X=N.setAccountType,J=(t=(0,y.useRouter)(),r=(n=(0,Z.ZP)()).mediaIdsLiked,o=n.likeMedium,i=n.userIdsFollowed,m=n.followUser,v=(b=(0,w.Z)()).isJoined,M=b.joinCommunity,T=(0,O.dd)().showModal,D=(0,h.Z)(),A=(0,c.useMemo)(function(){var e,n,c,u;return e={},(0,l.Z)(e,s.E.enterChallenge,function(e){var n=(0,p.Z)(e,1)[0];t.push((0,j.Tp)({challengeSlug:n.attributes.slug,i18n:D}).href)}),(0,l.Z)(e,s.E.likeMedium,(n=(0,f.Z)(g().mark(function e(t){return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r[t.id]){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,o(t,!0);case 5:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})),(0,l.Z)(e,s.E.collectMedium,function(e){T(_.default,{medium:e})}),(0,l.Z)(e,s.E.followUser,(c=(0,f.Z)(g().mark(function e(t){return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i[t.id]){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,m(t,!0);case 5:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)})),(0,l.Z)(e,s.E.joinCommunity,(u=(0,f.Z)(g().mark(function e(t){return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!v(t)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,M.trigger(t);case 5:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)})),(0,l.Z)(e,s.E.attendEvent,function(e){T(E,{event:e})}),e},[m,D,v,M,o,r,t,T,i]),F?A[F.type]:null),$=(0,c.useState)(q?x.register:x.accountTypeSelection),K=$[0],W=$[1],Y=(0,c.useState)(C.register),ee=Y[0],et=Y[1],en=(0,a.f)().openWelcomeBanner;(0,c.useEffect)(function(){switch(K){case x.register:et(C.register);break;case x.login:et(C.login)}null==L||L(K)},[K,L]);var er=(0,c.useMemo)(function(){return V&&!F&&q===s.Q.consumer&&(null==B?void 0:B.attributes.show_survey)===!0&&(null==B?void 0:B.attributes.photographer)===!1},[V,F,q,null==B?void 0:B.attributes.photographer,null==B?void 0:B.attributes.show_survey]),eo=(0,c.useMemo)(function(){return ee===C.register&&!!(!F||k.includes(F.type))&&q===s.Q.consumer},[F,ee,q]),ei=(0,c.useCallback)(function(){F&&J&&J(F.datum),eo&&en({authIntent:F}),null==Q||Q()},[J,F,Q,en,eo]);return(0,c.useEffect)(function(){if(!q){W(x.accountTypeSelection);return}if(er){W(x.survey);return}W(x.register)},[q,er]),(0,c.useEffect)(function(){V&&!er&&ei()},[V,ei,er]),(0,P.jsx)(S.Provider,{value:{intent:F,accountType:q,setAccountType:X,currentView:K,setCurrentView:W,authMode:ee,onSuccess:ei},children:I})},D=function(){return(0,c.useContext)(S)}},73710:function(e,t,n){"use strict";n.d(t,{E:function(){return c},Q:function(){return i}});var r,o,i=((r={}).contributor="contributor",r.consumer="consumer",r),c=((o={}).enterChallenge="enter_challenge",o.likeMedium="like_medium",o.collectMedium="collect_medium",o.followUser="follow_user",o.joinCommunity="join_community",o.attendEvent="attend_event",o.uploadFiles="upload_files",o)},82040:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(33106),o=n(85743),i=n(24715),c=n(92436);function u(){var e=(0,r.Z)("communities").t,t=(0,c.ZP)().addAlert;return{isJoined:function(e){return e.attributes.joined},joinCommunity:(0,i.f)(o.GX,{onSuccess:function(){t({type:"success",message:e("join_success"),timeoutMs:3e3})},onError:function(){t({type:"error",message:e("join_error"),timeoutMs:3e3})}}),leaveCommunity:(0,i.f)(o.tR,{onSuccess:function(){t({type:"success",message:e("leave_success"),timeoutMs:3e3})},onError:function(){t({type:"error",message:e("leave_error"),timeoutMs:3e3})}})}}},85743:function(e,t,n){"use strict";n.d(t,{$:function(){return m},C8:function(){return p},GX:function(){return w},Sq:function(){return v},Vc:function(){return h},ZV:function(){return g},gE:function(){return b},i1:function(){return y},tR:function(){return j}});var r=n(23810),o=n(94713),i=n(91341),c=n(10086),u=n(71351),a=n(54184),s=n(69566),l=n(60058);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=function(e){return void 0!==e.attributes.leaderboard_views},m=(0,c.xk)(function(e){return"/api/v3/communities/".concat(e)},(0,c.Nv)()),g=(0,c.H9)()(function(e,t){var n=t.cursor;return"/api/v3/communities/".concat((0,a.j)(e),"/feed?").concat((0,s.Pz)({seed:n,per_page:12,seo_tags:!0}))});l.Q.register(g);var b=(0,c.EP)()(function(e,t){var n=t.page;return"/api/v3/communities/".concat((0,a.j)(e),"/members?page=").concat(n,"&per_page=12")}),v=(0,c.EP)()(function(e,t){var n=e.community,r=e.leaderboard,o=e.span,i=e.perPage,c=e.includeCurrentUser,u=t.page;return"/api/v3/communities/".concat((0,a.j)(n),"/leaderboard?").concat((0,s.Pz)({page:u,per_page:void 0===i?12:i,span:o,type:r,include_current_user:c?"1":void 0}))}),y=(0,c.xk)(function(e){return"/api/v3/communities/".concat((0,a.j)(e),"/events/upcoming")},(0,c.Nv)()),h=(0,c.xk)(function(e){return"/api/v3/communities/".concat((0,a.j)(e),"/events/past")},(0,c.Nv)()),w=(0,c.H$)(function(e){var t=e.id;return["POST","/api/v3/communities/".concat(t,"/join"),null]},(0,c.Nv)(),{onSuccess:function(e){var t=e.id,n=e.attributes.slug;(0,i.Z)({name:"community",action:"join",id:t}),(0,u.P)(m,{matcher:n,mutator:function(e){var t=e.data;return{included:e.included,data:f(f({},t),{},{attributes:f(f({},t.attributes),{},{joined:!0})})}}}),(0,u.P)(v,{matcher:function(e){return(0,r.Z)(e,3)[2].includes("/".concat(t,"/"))},revalidate:!0})}}),j=(0,c.H$)(function(e){var t=e.id;return["DELETE","/api/v3/communities/".concat(t,"/leave"),null]},(0,c.Nv)(),{onSuccess:function(e){var t=e.id,n=e.attributes.slug;(0,i.Z)({name:"community",action:"leave",id:t}),(0,u.P)(m,{matcher:n}),(0,u.P)(v,{matcher:function(e){return(0,r.Z)(e,3)[2].includes("/".concat(t,"/"))}})}})},79746:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(94713),o=n(44713),i=n.n(o),c=n(89508),u=n(24115),a=n(48282);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=i()(function(){return Promise.all([n.e(54226),n.e(25378),n.e(96582),n.e(93532)]).then(n.bind(n,38115))},{loading:u.Z,loadableGenerated:{webpack:function(){return[38115]}}});function f(e){return(0,a.jsx)(c.Z,l(l({},e),{},{isOpen:!0,verticalPadding:50,horizontalPadding:50,children:!!e.medium&&(0,a.jsx)(d,l({},e))}))}},24115:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(90458),o=n(41402),i=n(48282);function c(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Z,{height:70,marginBottom:30}),(0,i.jsxs)(r.Z,{gridTemplateColumns:"repeat(auto-fit, minmax(125px, 1fr))",gridColumnGap:15,gridRowGap:15,children:[(0,i.jsx)(o.Z,{responsiveSquare:!0}),(0,i.jsx)(o.Z,{responsiveSquare:!0})]})]})}},90458:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(94713),o=n(21841),i=n.n(o),c=n(18529),u=n(82695),a=n(46852),s=n(71775),l=n.n(s),d=n(48282);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e){var t=e.children,n=e.inline,r=e.gridTemplateAreas,o=e.gridTemplateRows,s=e.gridTemplateColumns,f=e.gridTemplateColumnsMobile,m=e.gridGap,g=e.gridColumnGap,b=e.gridRowGap,v=e.width,y=e.tag,h=void 0===y?(0,d.jsx)("div",{}):y,w=(0,u.Z)({display:n?"inline-grid":"grid",gridTemplateAreas:r,gridTemplateRows:o,gridTemplateColumns:s,gap:m,columnGap:g,rowGap:b,width:v}),j=null,O={};return f&&(j=l().cssGridMobile,O["--grid-tc-mobile"]=f),(0,c.cloneElement)(h,{style:p(p({},w),O),className:i()(e.className,j,(0,a.Z)(e)),children:t})}},79811:function(e,t,n){"use strict";n.d(t,{L:function(){return d}});var r=n(94713),o=n(32971),i=n(18529),c=n(64055),u=n(48282),a=["id"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){return"https://images.pexels.com/photos/".concat(e,"/pexels-photo-").concat(e,".jpeg")}t.Z=(0,i.forwardRef)(function(e,t){var n=e.id,r=(0,o.Z)(e,a);return(0,u.jsx)(c.Z,l(l({},r),{},{url:d(n),ref:t}))})},38737:function(e,t,n){"use strict";function r(e){return parseInt(e.split("px")[0],10)}n.d(t,{Z:function(){return r}})},78297:function(e){e.exports={imageSize:"120px",imageContainer:"AuthFormHeader_imageContainer__d14Qz",image:"AuthFormHeader_image__0odwz",imageLoadingBox:"AuthFormHeader_imageLoadingBox__JbltL",icon:"AuthFormHeader_icon__7_jz5",red:"AuthFormHeader_red__CASps",green:"AuthFormHeader_green__cwBXb",purple:"AuthFormHeader_purple__X9guk",yellow:"AuthFormHeader_yellow__tER_U",noir:"AuthFormHeader_noir__dFnAi"}},71775:function(e){e.exports={cssGridMobile:"CSSGrid_cssGridMobile__prifj"}}}]);
//# sourceMappingURL=74611-35d99219e26b42a6.js.map